(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{372:function(t,e,s){"use strict";s.r(e);var a=s(2),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[s("code",[t._v("vue")]),t._v("配置：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("wsurl = `${location.protocol === 'https:' ? 'wss' : 'ws'}://${location.host}/socket/`\n")])])]),s("p",[s("code",[t._v("nginx")]),t._v("配置：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('location /socket/ { \t\t# websocket 代理\n  rewrite ^/socket/(.*)$ /$1 break; \t#拦截标识去除\n  proxy_pass http://192.168.2.60:9948;\t #这里是http不是ws,代理的ip和port写ws访问的实际地址\n  proxy_http_version 1.1; \t#这里必须使用http 1.1\n  #下面两个必须设置，请求头设置为ws请求方式\n  proxy_set_header Upgrade $http_upgrade;\n  proxy_set_header Connection "Upgrade";\n}\n')])])])])}),[],!1,null,null,null);e.default=n.exports}}]);